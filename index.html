<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Device Hash Manager</title>
    <style></style>
  </head>
  <body>
    <div id="login-screen">
      <div class="login-box">
        <h2>Naalonh Owner Tool</h2>
        <div class="form-group">
          <input type="password" id="access-key" required />
          <label for="access-key">Enter Password</label>
        </div>
        <div class="show-password-checkbox">
          <input
            type="checkbox"
            id="show-password"
            onchange="toggleLoginPassword()" />
          <label for="show-password">Show Password</label>
        </div>
        <button onclick="checkAccess()">‚ú® Unlock</button>
        <p id="login-error"></p>
      </div>
    </div>

    <div class="container">
      <header>
        <h1>Device Hash Manager</h1>

        <p class="description">
          Manage your device hashes, usernames, and expiry dates. Changes are
          saved to your browser's local storage.
        </p>
      </header>

      <div class="token-section">
        <input
          type="password"
          id="github-token"
          class="token-input"
          placeholder="Enter GitHub Personal Access Token" />
        <button class="btn btn-primary" onclick="saveToken()">
          Save Token
        </button>
        <button
          id="toggle-token-btn"
          class="btn btn-primary"
          onclick="toggleToken()">
          Unhide
        </button>
        <div></div>
      </div>

      <div class="controls">
        <button class="btn btn-primary" onclick="addNewEntry()">
          <span>‚ûï</span> Add New Entry
        </button>
        <button class="btn btn-warning" onclick="updateGist()">
          <span>üì§</span> Update Gist
        </button>

        <div class="btn btn-info entry-counter-box" id="entry-counter">
          0 Entries
        </div>

        <div class="data-source">
          <span>Load from Gist on refresh:</span>
          <label class="toggle">
            <input type="checkbox" id="load-from-gist" />
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <div class="search-section">
        <input type="text" id="search-input" placeholder="Search Device Hash" />
        <button class="btn btn-info" onclick="searchEntry()">üîç Search</button>
        <button class="btn btn-secondary" onclick="clearSearch()">
          ‚ùå Clear
        </button>
      </div>
      <div class="entries-container" id="entries-container">
        <!-- Entries will be rendered here -->
      </div>

      <div class="status-bar">
        <div class="status">
          <span class="status-dot status-unsaved" id="status-dot"></span>
          <span id="status-text">Unsaved changes</span>
        </div>
        <div>
          <span id="last-update">Last update: Never</span>
        </div>
        <div>
          <span id="entry-count">0 entries</span>
        </div>
      </div>
    </div>

    <div class="notification" id="notification">
      <span id="notification-message"></span>
    </div>

    <script src="script.js"></script>
    <!-- <script>
        // Redirect to login.html if not coming from valid login
        if (!document.referrer.includes('index.html')) {
            window.location.href = 'index.html';
        }
    </script> -->
  </body>
</html>
